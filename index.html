<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laser Tattoo Removal - Skin Conditions Guide</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        :root {
            --primary-orange: #ea580c;
            --primary-orange-dark: #c2410c;
            --primary-orange-light: #fb923c;
            --accent-orange: #ff8c00;
            --accent-orange-light: #fed7aa;
            
            --white: #ffffff;
            --soft-cream: #fefbf7;
            --light-orange: #fff7ed;
            --medium-gray: #4b5563;
            --dark-gray: #1f2937;
            --text-dark: #111827;
            --border-color: #d1d5db;
            --border-light: #e5e7eb;
            
            --status-critical: #dc2626;
            --status-warning: #ea580c;
            --status-success: #059669;
            --status-info: #7c3aed;
            
            --bg-critical: #fef2f2;
            --bg-warning: #fff7ed;
            --bg-success: #f0fdf4;
            --bg-info: #faf5ff;
            
            --focus-ring: #3b82f6;
            --focus-ring-offset: 2px;
            --hover-bg: #f8fafc;
            
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            --font-weight-light: 300;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-base: 0 1px 3px 0 rgb(0 0 0 / 0.12), 0 1px 2px -1px rgb(0 0 0 / 0.12);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.12), 0 2px 4px -2px rgb(0 0 0 / 0.12);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.12), 0 4px 6px -4px rgb(0 0 0 / 0.12);
            
            --radius-sm: 0.375rem;
            --radius-base: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
        }

        @media print {
            @page { margin: 0.75in; size: A4; }
            body { margin: 0; font-size: var(--text-sm); line-height: 1.4; color: #000; background: #fff; }
            .no-print { display: none !important; }
            .page-break { page-break-before: always; }
            .avoid-break { page-break-inside: avoid; }
            .condition-card, .category-section { page-break-inside: avoid; }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: var(--font-family);
            font-weight: var(--font-weight-normal);
            line-height: 1.6;
            color: var(--white);
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            font-size: var(--text-base);
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            color: var(--white);
            padding: var(--space-16) var(--space-8);
            text-align: center;
            position: relative;
            box-shadow: var(--shadow-lg);
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.08)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.4;
        }
        
        .header-content { position: relative; z-index: 1; max-width: 1200px; margin: 0 auto; }
        .header h1 { font-size: var(--text-4xl); font-weight: var(--font-weight-bold); margin-bottom: var(--space-4); letter-spacing: -0.025em; text-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .header .subtitle { font-size: var(--text-xl); opacity: 0.95; margin-bottom: var(--space-6); font-weight: var(--font-weight-medium); }
        .header .warning { background: rgba(255, 255, 255, 0.15); border: 2px solid rgba(255, 255, 255, 0.3); padding: var(--space-4) var(--space-6); border-radius: var(--radius-lg); font-size: var(--text-base); font-weight: var(--font-weight-semibold); backdrop-filter: blur(10px); max-width: 600px; margin: 0 auto; box-shadow: var(--shadow-base); }

        .container { max-width: 1400px; margin: 0 auto; padding: 0 var(--space-6); }

        .nav-bar { background: var(--white); padding: var(--space-6); margin: var(--space-8) 0; border-radius: var(--radius-lg); box-shadow: var(--shadow-md); text-align: center; border: 1px solid var(--border-light); }

        .nav-button {
            background: var(--white); color: var(--primary-orange); border: 2px solid var(--primary-orange); padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-base); cursor: pointer; font-size: var(--text-base); font-weight: var(--font-weight-semibold);
            text-decoration: none; display: inline-flex; align-items: center; gap: var(--space-2); transition: all 0.2s ease; margin: 0 var(--space-2);
        }
        .nav-button:hover { background: var(--primary-orange); color: var(--white); transform: translateY(-1px); box-shadow: var(--shadow-md); }
        .nav-button:focus { outline: 3px solid var(--focus-ring); outline-offset: var(--focus-ring-offset); }

        .controls {
            display: flex; gap: var(--space-6); margin-bottom: var(--space-10); flex-wrap: wrap; align-items: center;
            background: var(--white); padding: var(--space-6); border-radius: var(--radius-lg); box-shadow: var(--shadow-md); border: 1px solid var(--border-color);
        }

        .search-box { flex: 1; min-width: 300px; }
        .search-box input {
            width: 100%; padding: var(--space-3) var(--space-4); border: 2px solid var(--border-color); border-radius: var(--radius-base);
            font-size: var(--text-base); transition: all 0.2s ease; background: var(--white); color: var(--text-dark);
        }
        .search-box input:focus { outline: none; border-color: var(--primary-orange); box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1); }
        .search-box input::placeholder { color: var(--medium-gray); }

        .filter-buttons { display: flex; gap: var(--space-3); flex-wrap: wrap; }
        .filter-btn {
            padding: var(--space-3) var(--space-4); border: 2px solid var(--border-color); background: var(--white); border-radius: var(--radius-base);
            cursor: pointer; font-size: var(--text-sm); font-weight: var(--font-weight-medium); transition: all 0.2s ease; color: var(--text-dark);
        }
        .filter-btn:hover { background: var(--light-orange); border-color: var(--primary-orange); color: var(--primary-orange); }
        .filter-btn:focus { outline: 3px solid var(--focus-ring); outline-offset: var(--focus-ring-offset); }
        .filter-btn.active { background: var(--primary-orange); color: var(--white); border-color: var(--primary-orange); }

        .print-button {
            background: var(--white); color: var(--primary-orange); border: 2px solid var(--primary-orange); padding: var(--space-3) var(--space-5);
            border-radius: var(--radius-base); cursor: pointer; font-size: var(--text-base); font-weight: var(--font-weight-medium);
            transition: all 0.2s ease; display: flex; align-items: center; gap: var(--space-2);
        }
        .print-button:hover { background: var(--primary-orange); color: var(--white); transform: translateY(-1px); box-shadow: var(--shadow-md); }
        .print-button:focus { outline: 3px solid var(--focus-ring); outline-offset: var(--focus-ring-offset); }

        .treatment-legend {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-6); margin-bottom: var(--space-12);
            background: var(--white); padding: var(--space-8); border-radius: var(--radius-xl); box-shadow: var(--shadow-md); border: 1px solid var(--border-color);
        }

        .legend-item {
            display: flex; align-items: center; gap: var(--space-4); padding: var(--space-5); border-radius: var(--radius-lg);
            font-weight: var(--font-weight-medium); transition: all 0.2s ease; border: 2px solid; cursor: default;
        }
        .legend-item:hover { transform: translateY(-2px); box-shadow: var(--shadow-base); }
        .legend-contraindicated { background: var(--bg-critical); border-color: var(--status-critical); }
        .legend-caution { background: var(--bg-warning); border-color: var(--status-warning); }
        .legend-safe { background: var(--bg-success); border-color: var(--status-success); }
        .legend-medical { background: var(--bg-info); border-color: var(--status-info); }

        .legend-icon { font-size: 24px; flex-shrink: 0; }
        .legend-content { flex: 1; }
        .legend-title { font-size: var(--text-lg); font-weight: var(--font-weight-semibold); margin-bottom: var(--space-1); color: var(--text-dark); }
        .legend-description { font-size: var(--text-sm); color: var(--medium-gray); }

        .stats-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-6); margin-bottom: var(--space-12); }
        .stat-card {
            background: var(--white); padding: var(--space-6); border-radius: var(--radius-lg); text-align: center; box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color); border-top: 4px solid var(--primary-orange); transition: all 0.2s ease;
        }
        .stat-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
        .stat-number { font-size: var(--text-4xl); font-weight: var(--font-weight-bold); color: var(--primary-orange); line-height: 1; }
        .stat-label { font-size: var(--text-base); color: var(--text-dark); margin-top: var(--space-3); font-weight: var(--font-weight-medium); }

        .category-section { margin-bottom: var(--space-12); background: var(--white); border-radius: var(--radius-xl); overflow: hidden; box-shadow: var(--shadow-md); border: 1px solid var(--border-color); }
        .category-header { padding: var(--space-8); font-size: var(--text-3xl); font-weight: var(--font-weight-bold); color: var(--white); display: flex; align-items: center; gap: var(--space-4); position: relative; }
        .category-icon { font-size: 32px; opacity: 0.9; }
        .category-contraindications { background: linear-gradient(135deg, var(--status-critical) 0%, #b91c1c 100%); }
        .category-caution { background: linear-gradient(135deg, var(--status-warning) 0%, #c2410c 100%); }
        .category-complications { background: linear-gradient(135deg, var(--status-info) 0%, #6d28d9 100%); }
        .category-skin-types { background: linear-gradient(135deg, #0891b2 0%, #1e40af 100%); }

        .conditions-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: var(--space-6); padding: var(--space-8); }

        .condition-card {
            background: var(--white); border-radius: var(--radius-lg); padding: var(--space-6); box-shadow: var(--shadow-base);
            border: 2px solid var(--border-color); transition: all 0.3s ease; position: relative;
        }
        .condition-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); border-color: var(--primary-orange); }
        .condition-card:focus-within { border-color: var(--focus-ring); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }

        .condition-name { font-size: var(--text-xl); font-weight: var(--font-weight-semibold); color: var(--primary-orange); margin-bottom: var(--space-4); padding-right: 100px; line-height: 1.3; }

        .treatment-status {
            position: absolute; top: var(--space-6); right: var(--space-6); padding: var(--space-2) var(--space-3); border-radius: var(--radius-base);
            font-size: var(--text-xs); font-weight: var(--font-weight-semibold); text-transform: uppercase; letter-spacing: 0.5px; min-width: 90px;
            text-align: center; border: 1px solid rgba(255,255,255,0.2);
        }
        .status-contraindicated { background: var(--status-critical); color: var(--white); }
        .status-caution { background: var(--status-warning); color: var(--white); }
        .status-safe { background: var(--status-success); color: var(--white); }
        .status-medical { background: var(--status-info); color: var(--white); }

        .condition-details { display: grid; gap: var(--space-4); }
        .detail-section { padding: var(--space-4); border-radius: var(--radius-base); border: 1px solid var(--border-color); border-left: 4px solid; background: var(--hover-bg); }
        .appearance { border-left-color: var(--primary-orange); }
        .tattoo-impact { border-left-color: var(--status-critical); }
        .laser-considerations { border-left-color: var(--status-success); }
        .treatment-modifications { border-left-color: var(--status-warning); }
        .monitoring-required { border-left-color: var(--medium-gray); }

        .detail-label { font-weight: var(--font-weight-semibold); color: var(--text-dark); font-size: var(--text-sm); margin-bottom: var(--space-2); text-transform: uppercase; letter-spacing: 0.5px; }
        .detail-value { font-size: var(--text-sm); line-height: 1.5; color: var(--medium-gray); }

        .emergency-protocol { background: linear-gradient(135deg, var(--status-critical) 0%, #b91c1c 100%); color: var(--white); padding: var(--space-12); border-radius: var(--radius-xl); margin: var(--space-12) 0; box-shadow: var(--shadow-lg); border: 3px solid rgba(255,255,255,0.2); }
        .emergency-title { font-size: var(--text-3xl); font-weight: var(--font-weight-bold); margin-bottom: var(--space-8); display: flex; align-items: center; gap: var(--space-4); text-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .emergency-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-6); }
        .emergency-item { background: rgba(255, 255, 255, 0.15); padding: var(--space-6); border-radius: var(--radius-lg); border: 2px solid rgba(255, 255, 255, 0.3); backdrop-filter: blur(10px); }
        .emergency-item h4 { margin-bottom: var(--space-4); font-size: var(--text-lg); font-weight: var(--font-weight-semibold); }
        .emergency-item ul { list-style: none; margin: 0; padding: 0; }
        .emergency-item li { margin: var(--space-2) 0; padding-left: var(--space-5); position: relative; font-size: var(--text-sm); line-height: 1.5; }
        .emergency-item li:before { content: '•'; position: absolute; left: 0; color: var(--white); font-weight: var(--font-weight-bold); font-size: var(--text-base); }

        .protocol-box { background: var(--white); border: 3px solid var(--primary-orange); border-radius: var(--radius-xl); padding: var(--space-8); margin: var(--space-12) 0; box-shadow: var(--shadow-md); }
        .protocol-title { font-weight: var(--font-weight-bold); color: var(--text-dark); font-size: var(--text-2xl); margin-bottom: var(--space-6); display: flex; align-items: center; gap: var(--space-3); }
        .protocol-steps { list-style: none; counter-reset: protocol-counter; }
        .protocol-steps li { counter-increment: protocol-counter; margin: var(--space-4) 0; padding-left: var(--space-12); position: relative; font-size: var(--text-base); line-height: 1.6; color: var(--medium-gray); }
        .protocol-steps li:before { content: counter(protocol-counter); position: absolute; left: 0; top: 2px; background: var(--status-success); color: var(--white); width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--text-sm); font-weight: var(--font-weight-semibold); border: 2px solid var(--white); box-shadow: var(--shadow-base); }

        .disclaimer { background: var(--white); padding: var(--space-8); border-radius: var(--radius-lg); margin-top: var(--space-12); box-shadow: var(--shadow-md); text-align: center; border: 2px solid var(--border-color); }
        .disclaimer h3 { color: var(--text-dark); margin-bottom: var(--space-6); font-size: var(--text-2xl); font-weight: var(--font-weight-semibold); }
        .disclaimer p { font-size: var(--text-base); line-height: 1.7; color: var(--medium-gray); margin-bottom: var(--space-4); }
        .disclaimer .version-info { font-size: var(--text-sm); color: var(--text-dark); font-weight: var(--font-weight-medium); }

        @media (max-width: 1024px) {
            .conditions-grid { grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); }
        }

        @media (max-width: 768px) {
            .container { padding: 0 var(--space-4); }
            .header { padding: var(--space-12) var(--space-4); }
            .header h1 { font-size: var(--text-3xl); }
            .header .subtitle { font-size: var(--text-lg); }
            .controls { flex-direction: column; align-items: stretch; }
            .conditions-grid { grid-template-columns: 1fr; gap: var(--space-4); padding: var(--space-6); }
            .stats-summary { grid-template-columns: repeat(2, 1fr); }
            .treatment-legend { grid-template-columns: 1fr; }
            .emergency-grid { grid-template-columns: 1fr; }
            .condition-name { font-size: var(--text-lg); padding-right: 80px; }
            .nav-bar { padding: var(--space-4); }
            .nav-button { margin: var(--space-1); font-size: var(--text-sm); padding: var(--space-2) var(--space-4); }
        }

        @media (max-width: 480px) {
            .stats-summary { grid-template-columns: 1fr; }
            .search-box { min-width: 100%; }
            .filter-buttons { width: 100%; justify-content: center; }
            .treatment-status { position: static; margin-bottom: var(--space-3); display: inline-block; }
            .condition-name { padding-right: 0; }
            .nav-bar { padding: var(--space-3); }
            .nav-button { flex-direction: column; gap: var(--space-1); font-size: var(--text-xs); padding: var(--space-2) var(--space-3); margin: var(--space-1); }
        }

        .condition-card.hidden { display: none; }
        .category-section.hidden { display: none; }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }
        }

        .filter-btn:focus-visible, .print-button:focus-visible, .search-box input:focus-visible, .nav-button:focus-visible, .condition-card:focus-visible {
            outline: 3px solid var(--focus-ring); outline-offset: var(--focus-ring-offset); box-shadow: 0 0 0 6px rgba(59, 130, 246, 0.1);
        }

        .skip-to-content { position: absolute; top: -40px; left: 6px; background: var(--white); color: var(--text-dark); padding: 8px; text-decoration: none; border-radius: 4px; border: 2px solid var(--focus-ring); z-index: 1000; }
        .skip-to-content:focus { top: 6px; }

        @media (prefers-contrast: high) {
            :root { --border-color: #000000; --border-light: #333333; --medium-gray: #000000; --text-dark: #000000; }
            .condition-card { border-width: 3px; }
            .detail-section { border-width: 2px; }
        }

        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-to-content">Skip to main content</a>
    
    <div class="header">
        <div class="header-content">
            <h1>LASER TATTOO REMOVAL</h1>
            <div class="subtitle">Skin Conditions & Treatment Decision Guide</div>
            <div class="warning">⚠️ Professional Use Only - Always Consult Medical History Before Treatment</div>
        </div>
    </div>

    <div class="container">
        <nav class="nav-bar no-print" role="navigation" aria-label="Quick navigation">
            <a href="consultation.html" class="nav-button" aria-label="Access consultation reference guide">
                <span aria-hidden="true">📋</span>Consultation Reference
            </a>
            <a href="forms.html" class="nav-button" aria-label="Access consultation forms">
                <span aria-hidden="true">📝</span>Consultation Forms
            </a>
            <a href="kirbydesai.html" class="nav-button" aria-label="Access Kirby-Desai Scale calculator">
                <span aria-hidden="true">🔢</span>Kirby-Desai Scale
            </a>
            <a href="fitzpatrick.html" class="nav-button" aria-label="Access Fitzpatrick skin type guide">
                <span aria-hidden="true">🎨</span>Fitzpatrick Types
            </a>
        </nav>

        <main id="main-content">
            <div class="controls no-print" role="search">
                <div class="search-box">
                    <label for="searchInput" class="sr-only">Search conditions or symptoms</label>
                    <input type="text" id="searchInput" placeholder="🔍 Search conditions or symptoms..." aria-label="Search conditions">
            </div>

            <div class="stats-summary" role="region" aria-labelledby="stats-title">
                <h2 id="stats-title" class="sr-only">Guide Statistics</h2>
                <div class="stat-card">
                    <div class="stat-number">38</div>
                    <div class="stat-label">Conditions Covered</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">10</div>
                    <div class="stat-label">Absolute Contraindications</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">15</div>
                    <div class="stat-label">Require Medical Clearance</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Treatment Categories</div>
                </div>
            </div>

            <!-- Absolute Contraindications -->
            <section class="category-section" data-category="contraindications" aria-labelledby="contraindications-title">
                <header class="category-header category-contraindications">
                    <div class="category-icon" aria-hidden="true">🚫</div>
                    <h2 id="contraindications-title">ABSOLUTE CONTRAINDICATIONS</h2>
                </header>
                <div class="conditions-grid">
                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Malignant Melanoma</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Dark, irregular mole with asymmetry, border irregularity, color variation, diameter >6mm (ABCDE criteria)</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Critical Risk</div>
                                <div class="detail-value">Laser energy can stimulate melanoma cells and cause metastasis. Any suspicious lesions must be biopsied before treatment.</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Protocol</div>
                                <div class="detail-value">NEVER treat over or near suspicious moles. Refer immediately to dermatologist for evaluation and biopsy.</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Active Herpes Outbreak</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Painful vesicles, blisters, or ulcers typically around mouth, lips, or genitals with burning sensation</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Risk</div>
                                <div class="detail-value">Laser treatment during active outbreak worsens infection, delays healing, and significantly increases scarring risk.</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Protocol</div>
                                <div class="detail-value">Wait until outbreak completely resolves (7-14 days). Consider prophylactic antiviral therapy for recurrent cases.</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Keloid Scarring History</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Raised, thickened scar tissue extending beyond original wound boundaries, often with continued growth</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Risk Assessment</div>
                                <div class="detail-value">Laser energy triggers excessive collagen production, worsening keloid formation and creating permanent disfigurement.</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Alternative Options</div>
                                <div class="detail-value">Consider chemical peels, dermabrasion, or surgical excision with radiation therapy by specialist only.</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Pregnancy & Breastfeeding</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Patient Status</div>
                                <div class="detail-value">Confirmed pregnancy at any stage or active breastfeeding period</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Safety Concerns</div>
                                <div class="detail-value">Unknown effects of laser energy on fetal development. Pigment particles released may cross placental barrier.</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Waiting Period</div>
                                <div class="detail-value">Wait until after delivery and cessation of breastfeeding (minimum 3 months post-weaning recommended).</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Active Skin Cancer</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Types</div>
                                <div class="detail-value">Squamous cell carcinoma, basal cell carcinoma, or any malignancy in or near treatment area</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Risk</div>
                                <div class="detail-value">Laser energy can interfere with cancer treatment protocols and potentially stimulate tumor growth or spread.</div>
                            </div>
                            <div class="detail-section monitoring-required">
                                <div class="detail-label">Required Action</div>
                                <div class="detail-value">Complete cancer treatment first. Obtain written oncologist clearance before considering tattoo removal.</div>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <div class="page-break"></div>

            <!-- Proceed with Caution -->
            <section class="category-section" data-category="caution" aria-labelledby="caution-title">
                <header class="category-header category-caution">
                    <div class="category-icon" aria-hidden="true">⚠️</div>
                    <h2 id="caution-title">PROCEED WITH CAUTION</h2>
                </header>
                <div class="conditions-grid">
                    <article class="condition-card" data-treatment="caution">
                        <div class="treatment-status status-caution" aria-label="Treatment status: Caution Required">Caution Required</div>
                        <h3 class="condition-name">Eczema/Atopic Dermatitis</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Red, inflamed patches with intense itching, dryness, possible crusting or weeping areas</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Challenges</div>
                                <div class="detail-value">Increased risk of post-inflammatory hyperpigmentation, delayed healing, condition flare-ups triggered by laser trauma.</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Modified Protocol</div>
                                <div class="detail-value">Reduce fluence by 20-30%, extend intervals to 8-10 weeks, pre-treat with topical corticosteroids, intensive moisturizing regimen.</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="caution">
                        <div class="treatment-status status-caution" aria-label="Treatment status: Caution Required">Caution Required</div>
                        <h3 class="condition-name">Psoriasis</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Red, raised plaques with thick silvery scales, commonly on elbows, knees, scalp, and lower back</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Koebner Phenomenon</div>
                                <div class="detail-value">Laser trauma can trigger new psoriatic lesions at treatment site (Koebner phenomenon). May worsen existing plaques.</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Treatment Strategy</div>
                                <div class="detail-value">Treat only during stable/remission phase. Reduce fluence by 25%. Consider topical therapy pre/post treatment. Monitor closely.</div>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <section class="emergency-protocol" role="region" aria-labelledby="emergency-title">
                <div class="emergency-title">
                    <span aria-hidden="true" style="font-size: 32px;">🚨</span>
                    <h2 id="emergency-title">EMERGENCY PROTOCOLS & IMMEDIATE ACTIONS</h2>
                </div>
                <div class="emergency-grid">
                    <div class="emergency-item">
                        <h4>Severe Burns/Blistering</h4>
                        <ul>
                            <li>Stop treatment immediately</li>
                            <li>Apply cold compress (not ice directly)</li>
                            <li>Document with standardized photos</li>
                            <li>Refer to burn specialist within 24 hours</li>
                        </ul>
                    </div>
                    <div class="emergency-item">
                        <h4>Infection Warning Signs</h4>
                        <ul>
                            <li>Increasing pain after 48 hours</li>
                            <li>Purulent or malodorous discharge</li>
                            <li>Red streaking from treatment site</li>
                            <li>Immediate physician referral required</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="protocol-box" id="protocol" role="region" aria-labelledby="protocol-title">
                <div class="protocol-title">
                    <span aria-hidden="true" style="font-size: 24px;">📋</span>
                    <h2 id="protocol-title">ESSENTIAL PRE-TREATMENT ASSESSMENT PROTOCOL</h2>
                </div>
                <ol class="protocol-steps">
                    <li>Complete comprehensive medical history including all medications, supplements, and recent treatments</li>
                    <li>Perform thorough skin examination of treatment area and evaluate surrounding tissue health</li>
                    <li>Document any suspicious lesions with photography and refer for dermatological evaluation</li>
                    <li>Assess Fitzpatrick skin type and document recent sun exposure or tanning history</li>
                    <li>Review previous tattoo removal treatments, complications, and healing patterns</li>
                </ol>
            </section>

            <section class="disclaimer" role="contentinfo">
                <h3>Professional Disclaimer & Legal Requirements</h3>
                <p>
                    This guide is for professional use only by qualified laser practitioners. Always obtain comprehensive medical history, 
                    perform patch testing, and maintain current professional liability insurance.
                </p>
                <div class="version-info">
                    <strong>© 2025 Laser Tattoo Removal Professional Guidelines</strong> | 
                    Version 3.2 | Updated with latest safety protocols
                </div>
            </section>
        </main>
    </div>

    <script>
        function initializeGuide() {
            setupSearch();
            setupFilters();
            setupAccessibility();
            setupPrintOptimization();
            setupKeyboardNavigation();
            announcePageLoad();
        }

        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('input', debounce(function(e) {
                    const searchTerm = e.target.value.toLowerCase();
                    filterConditions(searchTerm);
                    announceSearchResults(searchTerm);
                }, 300));
            }
        }

        function setupFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    filterButtons.forEach(btn => {
                        btn.classList.remove('active');
                        btn.setAttribute('aria-pressed', 'false');
                    });
                    
                    this.classList.add('active');
                    this.setAttribute('aria-pressed', 'true');
                    
                    const filterType = this.getAttribute('data-filter');
                    filterByTreatmentStatus(filterType);
                    announceFilterChange(filterType);
                });
            });
        }

        function setupAccessibility() {
            const conditionCards = document.querySelectorAll('.condition-card');
            conditionCards.forEach((card, index) => {
                card.setAttribute('tabindex', '0');
                card.setAttribute('role', 'article');
                card.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.click();
                    }
                });
            });
        }

        function setupPrintOptimization() {
            window.addEventListener('beforeprint', function() {
                document.body.classList.add('printing');
                const hiddenCards = document.querySelectorAll('.condition-card.hidden');
                hiddenCards.forEach(card => card.classList.remove('hidden'));
                announceToScreenReader('Preparing document for printing');
            });

            window.addEventListener('afterprint', function() {
                document.body.classList.remove('printing');
                announceToScreenReader('Print dialog closed');
            });
        }

        function setupKeyboardNavigation() {
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey || e.metaKey) && e.key === 'p') {
                    e.preventDefault();
                    window.print();
                }
                
                if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                    e.preventDefault();
                    const searchInput = document.getElementById('searchInput');
                    if (searchInput) {
                        searchInput.focus();
                        announceToScreenReader('Search field focused');
                    }
                }

                if (e.key === 'Escape') {
                    const searchInput = document.getElementById('searchInput');
                    if (searchInput && searchInput === document.activeElement) {
                        searchInput.value = '';
                        filterConditions('');
                        announceToScreenReader('Search cleared, showing all conditions');
                    }
                }
            });
        }

        function filterConditions(searchTerm) {
            const conditionCards = document.querySelectorAll('.condition-card');
            const categories = document.querySelectorAll('.category-section');
            let visibleCount = 0;
            
            conditionCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                if (text.includes(searchTerm) || searchTerm === '') {
                    card.classList.remove('hidden');
                    visibleCount++;
                } else {
                    card.classList.add('hidden');
                }
            });

            categories.forEach(section => {
                const visibleCards = section.querySelectorAll('.condition-card:not(.hidden)');
                if (visibleCards.length === 0 && searchTerm !== '') {
                    section.classList.add('hidden');
                } else {
                    section.classList.remove('hidden');
                }
            });

            return visibleCount;
        }

        function filterByTreatmentStatus(status) {
            const conditionCards = document.querySelectorAll('.condition-card');
            const categories = document.querySelectorAll('.category-section');
            let visibleCount = 0;
            
            conditionCards.forEach(card => {
                if (status === 'all') {
                    card.classList.remove('hidden');
                    visibleCount++;
                } else {
                    const treatmentStatus = card.getAttribute('data-treatment');
                    if (treatmentStatus === status) {
                        card.classList.remove('hidden');
                        visibleCount++;
                    } else {
                        card.classList.add('hidden');
                    }
                }
            });

            categories.forEach(section => {
                const visibleCards = section.querySelectorAll('.condition-card:not(.hidden)');
                if (visibleCards.length === 0 && status !== 'all') {
                    section.classList.add('hidden');
                } else {
                    section.classList.remove('hidden');
                }
            });

            return visibleCount;
        }

        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }

        function announceSearchResults(searchTerm) {
            const visibleCount = document.querySelectorAll('.condition-card:not(.hidden)').length;
            if (searchTerm) {
                announceToScreenReader(`Search for "${searchTerm}" found ${visibleCount} conditions`);
            } else {
                announceToScreenReader(`Showing all ${visibleCount} conditions`);
            }
        }

        function announceFilterChange(filterType) {
            const visibleCount = document.querySelectorAll('.condition-card:not(.hidden)').length;
            const filterName = filterType === 'all' ? 'all conditions' : 
                              filterType === 'contraindicated' ? 'contraindicated conditions' :
                              filterType === 'caution' ? 'caution required conditions' :
                              filterType === 'medical' ? 'medical clearance required conditions' : filterType;
            announceToScreenReader(`Filtered to ${filterName}, showing ${visibleCount} results`);
        }

        function announcePageLoad() {
            announceToScreenReader('Laser tattoo removal guide loaded. Use search or filters to find specific conditions.');
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        document.addEventListener('DOMContentLoaded', initializeGuide);

        window.addEventListener('error', function(e) {
            console.error('Guide error:', e.error);
            announceToScreenReader('An error occurred. Please refresh the page if needed.');
        });

        window.addEventListener('load', function() {
            const loadTime = performance.now();
            console.log(`Guide loaded in ${Math.round(loadTime)}ms`);
        });
    </script>
</body>
</html>
                <div class="filter-buttons" role="group" aria-label="Filter conditions by treatment status">
                    <button class="filter-btn active" data-filter="all" aria-pressed="true">All Conditions</button>
                    <button class="filter-btn" data-filter="contraindicated" aria-pressed="false">Contraindicated</button>
                    <button class="filter-btn" data-filter="caution" aria-pressed="false">Proceed with Caution</button>
                    <button class="filter-btn" data-filter="medical" aria-pressed="false">Medical Clearance</button>
                </div>
                <button class="print-button" onclick="window.print()" aria-label="Print guide">
                    <span aria-hidden="true">🖨️</span>Print Guide
                </button>
            </div>

            <div class="treatment-legend" role="region" aria-labelledby="legend-title">
                <h2 id="legend-title" class="sr-only">Treatment Status Legend</h2>
                <div class="legend-item legend-contraindicated">
                    <div class="legend-icon" aria-hidden="true">🚫</div>
                    <div class="legend-content">
                        <div class="legend-title">Contraindicated</div>
                        <div class="legend-description">Do not proceed with treatment</div>
                    </div>
                </div>
                <div class="legend-item legend-caution">
                    <div class="legend-icon" aria-hidden="true">⚠️</div>
                    <div class="legend-content">
                        <div class="legend-title">Proceed with Caution</div>
                        <div class="legend-description">Modified parameters required</div>
                    </div>
                </div>
                <div class="legend-item legend-safe">
                    <div class="legend-icon" aria-hidden="true">✅</div>
                    <div class="legend-content">
                        <div class="legend-title">Safe to Proceed</div>
                        <div class="legend-description">Standard protocol applies</div>
                    </div>
                </div>
                <div class="legend-item legend-medical">
                    <div class="legend-icon" aria-hidden="true">🩺</div>
                    <div class="legend-content">
                        <div class="legend-title">Medical Clearance</div>
                        <div class="legend-description">Physician approval required</div>
                    </div>
                </div>
