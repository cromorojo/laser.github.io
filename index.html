<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laser Tattoo Removal - Skin Conditions Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Primary Brand Colors */
            --primary-orange: #ea580c;
            --primary-orange-dark: #c2410c;
            --primary-orange-light: #fb923c;
            --accent-orange: #ff8c00;
            --accent-orange-light: #fed7aa;
            
            /* Base Colors */
            --white: #ffffff;
            --soft-cream: #fefbf7;
            --light-orange: #fff7ed;
            --medium-gray: #4b5563;
            --dark-gray: #1f2937;
            --text-dark: #111827;
            --border-color: #d1d5db;
            --border-light: #e5e7eb;
            
            /* Status Colors */
            --status-critical: #dc2626;
            --status-warning: #ea580c;
            --status-success: #059669;
            --status-info: #7c3aed;
            
            /* Background Colors */
            --bg-critical: #fef2f2;
            --bg-warning: #fff7ed;
            --bg-success: #f0fdf4;
            --bg-info: #faf5ff;
            
            /* Interactive States */
            --focus-ring: #3b82f6;
            --focus-ring-offset: 2px;
            --hover-bg: #f8fafc;
            --hover-transform: translateY(-2px);
            
            /* Typography */
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            --font-weight-light: 300;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            
            /* Font Sizes */
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --text-5xl: 3rem;
            
            /* Spacing Scale */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            --space-24: 6rem;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-base: 0 1px 3px 0 rgb(0 0 0 / 0.12), 0 1px 2px -1px rgb(0 0 0 / 0.12);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.12), 0 2px 4px -2px rgb(0 0 0 / 0.12);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.12), 0 4px 6px -4px rgb(0 0 0 / 0.12);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.12), 0 10px 10px -5px rgb(0 0 0 / 0.04);
            
            /* Border Radius */
            --radius-sm: 0.375rem;
            --radius-base: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            
            /* Transitions */
            --transition-fast: 150ms ease-out;
            --transition-base: 250ms ease-out;
            --transition-slow: 350ms ease-out;
            
            /* Z-index Scale */
            --z-dropdown: 1000;
            --z-sticky: 1020;
            --z-fixed: 1030;
            --z-modal-backdrop: 1040;
            --z-modal: 1050;
            --z-popover: 1060;
            --z-tooltip: 1070;
            --z-toast: 1080;
        }

        /* Print Styles */
        @media print {
            @page { 
                margin: 0.75in; 
                size: A4; 
            }
            
            body { 
                margin: 0; 
                font-size: var(--text-sm); 
                line-height: 1.4; 
                color: #000; 
                background: #fff !important; 
            }
            
            .no-print { display: none !important; }
            .page-break { page-break-before: always; }
            .avoid-break { page-break-inside: avoid; }
            .condition-card, .category-section { page-break-inside: avoid; }
            * { 
                -webkit-print-color-adjust: exact !important; 
                print-color-adjust: exact !important; 
            }
        }

        /* Base Reset & Typography */
        *, *::before, *::after { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
        }
        
        body {
            font-family: var(--font-family);
            font-weight: var(--font-weight-normal);
            line-height: 1.6;
            color: var(--white);
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            font-size: var(--text-base);
            min-height: 100vh;
            scroll-behavior: smooth;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            color: var(--white);
            padding: var(--space-16) var(--space-8);
            text-align: center;
            position: relative;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.08)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.4;
            animation: backgroundPulse 8s ease-in-out infinite;
        }
        
        @keyframes backgroundPulse {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.6; }
        }
        
        .header-content { 
            position: relative; 
            z-index: 1; 
            max-width: 1200px; 
            margin: 0 auto; 
            animation: fadeInUp 0.8s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .header h1 { 
            font-size: var(--text-5xl); 
            font-weight: var(--font-weight-bold); 
            margin-bottom: var(--space-4); 
            letter-spacing: -0.025em; 
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, var(--white), var(--accent-orange-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header .subtitle { 
            font-size: var(--text-xl); 
            opacity: 0.95; 
            margin-bottom: var(--space-6); 
            font-weight: var(--font-weight-medium); 
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .header .warning { 
            background: rgba(255, 255, 255, 0.15); 
            border: 2px solid rgba(255, 255, 255, 0.3); 
            padding: var(--space-4) var(--space-6); 
            border-radius: var(--radius-lg); 
            font-size: var(--text-base); 
            font-weight: var(--font-weight-semibold); 
            backdrop-filter: blur(10px); 
            max-width: 600px; 
            margin: 0 auto; 
            box-shadow: var(--shadow-base);
            transition: var(--transition-base);
        }
        
        .header .warning:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.02);
        }

        /* Container & Layout */
        .container { 
            max-width: 1400px; 
            margin: 0 auto; 
            padding: 0 var(--space-6); 
        }

        /* Navigation */
        .nav-bar { 
            background: var(--white); 
            padding: var(--space-6); 
            margin: var(--space-8) 0; 
            border-radius: var(--radius-xl); 
            box-shadow: var(--shadow-md); 
            text-align: center; 
            border: 1px solid var(--border-light);
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: var(--space-4);
        }

        .nav-button {
            background: linear-gradient(135deg, var(--white) 0%, var(--soft-cream) 100%);
            color: var(--primary-orange); 
            border: 2px solid var(--primary-orange); 
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-lg); 
            cursor: pointer; 
            font-size: var(--text-base); 
            font-weight: var(--font-weight-semibold);
            text-decoration: none; 
            display: inline-flex; 
            align-items: center; 
            gap: var(--space-2); 
            transition: var(--transition-base);
            position: relative;
            overflow: hidden;
        }
        
        .nav-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            transition: var(--transition-base);
            z-index: -1;
        }
        
        .nav-button:hover::before {
            left: 0;
        }
        
        .nav-button:hover { 
            color: var(--white); 
            transform: var(--hover-transform); 
            box-shadow: var(--shadow-lg);
        }
        
        .nav-button:focus { 
            outline: 3px solid var(--focus-ring); 
            outline-offset: var(--focus-ring-offset); 
        }

        /* Controls */
        .controls {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: var(--space-6); 
            margin-bottom: var(--space-10); 
            align-items: center;
            background: linear-gradient(135deg, var(--white) 0%, var(--soft-cream) 100%);
            padding: var(--space-8); 
            border-radius: var(--radius-xl); 
            box-shadow: var(--shadow-md); 
            border: 1px solid var(--border-color);
        }

        .search-filter-group {
            display: flex;
            gap: var(--space-4);
            align-items: center;
        }

        .search-box { 
            flex: 1; 
            min-width: 300px; 
            position: relative;
        }
        
        .search-box::before {
            content: '🔍';
            position: absolute;
            left: var(--space-4);
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
            pointer-events: none;
        }
        
        .search-box input {
            width: 100%; 
            padding: var(--space-4) var(--space-4) var(--space-4) var(--space-12); 
            border: 2px solid var(--border-color); 
            border-radius: var(--radius-lg);
            font-size: var(--text-base); 
            transition: var(--transition-base); 
            background: var(--white); 
            color: var(--text-dark);
            box-shadow: var(--shadow-sm);
        }
        
        .search-box input:focus { 
            outline: none; 
            border-color: var(--primary-orange); 
            box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1), var(--shadow-md); 
            transform: scale(1.01);
        }
        
        .search-box input::placeholder { 
            color: var(--medium-gray); 
        }

        .filter-buttons { 
            display: flex; 
            gap: var(--space-2); 
            flex-wrap: wrap; 
        }
        
        .filter-btn {
            padding: var(--space-3) var(--space-5); 
            border: 2px solid var(--border-color); 
            background: var(--white); 
            border-radius: var(--radius-lg);
            cursor: pointer; 
            font-size: var(--text-sm); 
            font-weight: var(--font-weight-medium); 
            transition: var(--transition-base); 
            color: var(--text-dark);
            position: relative;
            overflow: hidden;
        }
        
        .filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--light-orange) 0%, var(--accent-orange-light) 100%);
            transition: var(--transition-base);
            z-index: -1;
        }
        
        .filter-btn:hover::before {
            left: 0;
        }
        
        .filter-btn:hover { 
            border-color: var(--primary-orange); 
            color: var(--primary-orange);
            transform: var(--hover-transform);
        }
        
        .filter-btn:focus { 
            outline: 3px solid var(--focus-ring); 
            outline-offset: var(--focus-ring-offset); 
        }
        
        .filter-btn.active { 
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            color: var(--white); 
            border-color: var(--primary-orange-dark);
            box-shadow: var(--shadow-md);
        }

        .print-button {
            background: linear-gradient(135deg, var(--white) 0%, var(--soft-cream) 100%);
            color: var(--primary-orange); 
            border: 2px solid var(--primary-orange); 
            padding: var(--space-3) var(--space-5);
            border-radius: var(--radius-lg); 
            cursor: pointer; 
            font-size: var(--text-base); 
            font-weight: var(--font-weight-medium);
            transition: var(--transition-base); 
            display: flex; 
            align-items: center; 
            gap: var(--space-2);
            position: relative;
            overflow: hidden;
        }
        
        .print-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            transition: var(--transition-base);
            z-index: -1;
        }
        
        .print-button:hover::before {
            left: 0;
        }
        
        .print-button:hover { 
            color: var(--white); 
            transform: var(--hover-transform); 
            box-shadow: var(--shadow-lg); 
        }
        
        .print-button:focus { 
            outline: 3px solid var(--focus-ring); 
            outline-offset: var(--focus-ring-offset); 
        }

        /* Treatment Legend */
        .treatment-legend {
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: var(--space-6); 
            margin-bottom: var(--space-12);
            background: linear-gradient(135deg, var(--white) 0%, var(--soft-cream) 100%);
            padding: var(--space-8); 
            border-radius: var(--radius-2xl); 
            box-shadow: var(--shadow-lg); 
            border: 1px solid var(--border-color);
        }

        .legend-item {
            display: flex; 
            align-items: center; 
            gap: var(--space-4); 
            padding: var(--space-6); 
            border-radius: var(--radius-xl);
            font-weight: var(--font-weight-medium); 
            transition: var(--transition-base); 
            border: 2px solid; 
            cursor: default;
            position: relative;
            overflow: hidden;
        }
        
        .legend-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: var(--transition-slow);
        }
        
        .legend-item:hover::before {
            transform: translateX(100%);
        }
        
        .legend-item:hover { 
            transform: var(--hover-transform); 
            box-shadow: var(--shadow-lg); 
        }
        
        .legend-contraindicated { 
            background: linear-gradient(135deg, var(--bg-critical) 0%, #fce7e7 100%);
            border-color: var(--status-critical); 
        }
        
        .legend-caution { 
            background: linear-gradient(135deg, var(--bg-warning) 0%, #fef3e2 100%);
            border-color: var(--status-warning); 
        }
        
        .legend-safe { 
            background: linear-gradient(135deg, var(--bg-success) 0%, #e6f7e6 100%);
            border-color: var(--status-success); 
        }
        
        .legend-medical { 
            background: linear-gradient(135deg, var(--bg-info) 0%, #f3e8ff 100%);
            border-color: var(--status-info); 
        }

        .legend-icon { 
            font-size: 32px; 
            flex-shrink: 0; 
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }
        
        .legend-content { flex: 1; }
        
        .legend-title { 
            font-size: var(--text-lg); 
            font-weight: var(--font-weight-semibold); 
            margin-bottom: var(--space-1); 
            color: var(--text-dark); 
        }
        
        .legend-description { 
            font-size: var(--text-sm); 
            color: var(--medium-gray); 
        }

        /* Statistics */
        .stats-summary { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: var(--space-6); 
            margin-bottom: var(--space-12); 
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--white) 0%, var(--soft-cream) 100%);
            padding: var(--space-8); 
            border-radius: var(--radius-xl); 
            text-align: center; 
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color); 
            border-top: 4px solid var(--primary-orange); 
            transition: var(--transition-base);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(234, 88, 12, 0.05) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: var(--transition-slow);
        }
        
        .stat-card:hover::before {
            transform: translateX(100%);
        }
        
        .stat-card:hover { 
            transform: var(--hover-transform); 
            box-shadow: var(--shadow-xl); 
            border-top-color: var(--primary-orange-dark);
        }
        
        .stat-number { 
            font-size: var(--text-5xl); 
            font-weight: var(--font-weight-bold); 
            color: var(--primary-orange); 
            line-height: 1;
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .stat-label { 
            font-size: var(--text-base); 
            color: var(--text-dark); 
            margin-top: var(--space-3); 
            font-weight: var(--font-weight-medium); 
        }

        /* Category Sections */
        .category-section { 
            margin-bottom: var(--space-16); 
            background: var(--white); 
            border-radius: var(--radius-2xl); 
            overflow: hidden; 
            box-shadow: var(--shadow-xl); 
            border: 1px solid var(--border-color);
            transition: var(--transition-base);
        }
        
        .category-section:hover {
            box-shadow: var(--shadow-xl);
            transform: translateY(-4px);
        }
        
        .category-header { 
            padding: var(--space-12); 
            font-size: var(--text-3xl); 
            font-weight: var(--font-weight-bold); 
            color: var(--white); 
            display: flex; 
            align-items: center; 
            gap: var(--space-4); 
            position: relative;
            overflow: hidden;
        }
        
        .category-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: var(--transition-slow);
        }
        
        .category-section:hover .category-header::before {
            transform: translateX(100%);
        }
        
        .category-icon { 
            font-size: 48px; 
            opacity: 0.9;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
        }
        
        .category-contraindications { 
            background: linear-gradient(135deg, var(--status-critical) 0%, #b91c1c 100%); 
        }
        
        .category-caution { 
            background: linear-gradient(135deg, var(--status-warning) 0%, #c2410c 100%); 
        }
        
        .category-complications { 
            background: linear-gradient(135deg, var(--status-info) 0%, #6d28d9 100%); 
        }
        
        .category-skin-types { 
            background: linear-gradient(135deg, #0891b2 0%, #1e40af 100%); 
        }

        /* Conditions Grid */
        .conditions-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); 
            gap: var(--space-8); 
            padding: var(--space-10); 
        }

        .condition-card {
            background: linear-gradient(135deg, var(--white) 0%, var(--soft-cream) 100%);
            border-radius: var(--radius-xl); 
            padding: var(--space-8); 
            box-shadow: var(--shadow-md);
            border: 2px solid var(--border-color); 
            transition: var(--transition-base); 
            position: relative;
            overflow: hidden;
        }
        
        .condition-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(234, 88, 12, 0.03) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: var(--transition-slow);
        }
        
        .condition-card:hover::before {
            transform: translateX(100%);
        }
        
        .condition-card:hover { 
            transform: var(--hover-transform); 
            box-shadow: var(--shadow-xl); 
            border-color: var(--primary-orange); 
        }
        
        .condition-card:focus-within { 
            border-color: var(--focus-ring); 
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1), var(--shadow-lg); 
        }

        .condition-name { 
            font-size: var(--text-xl); 
            font-weight: var(--font-weight-semibold); 
            color: var(--primary-orange); 
            margin-bottom: var(--space-6); 
            padding-right: 120px; 
            line-height: 1.3;
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .treatment-status {
            position: absolute; 
            top: var(--space-8); 
            right: var(--space-8); 
            padding: var(--space-2) var(--space-4); 
            border-radius: var(--radius-lg);
            font-size: var(--text-xs); 
            font-weight: var(--font-weight-semibold); 
            text-transform: uppercase; 
            letter-spacing: 0.5px; 
            min-width: 100px;
            text-align: center; 
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: var(--shadow-base);
            backdrop-filter: blur(10px);
        }
        
        .status-contraindicated { 
            background: linear-gradient(135deg, var(--status-critical) 0%, #b91c1c 100%);
            color: var(--white); 
        }
        
        .status-caution { 
            background: linear-gradient(135deg, var(--status-warning) 0%, #c2410c 100%);
            color: var(--white); 
        }
        
        .status-safe { 
            background: linear-gradient(135deg, var(--status-success) 0%, #047857 100%);
            color: var(--white); 
        }
        
        .status-medical { 
            background: linear-gradient(135deg, var(--status-info) 0%, #6d28d9 100%);
            color: var(--white); 
        }

        .condition-details { 
            display: grid; 
            gap: var(--space-5); 
        }
        
        .detail-section { 
            padding: var(--space-5); 
            border-radius: var(--radius-lg); 
            border: 1px solid var(--border-color);
            border-left: 4px solid; 
            background: linear-gradient(135deg, var(--hover-bg) 0%, rgba(248, 250, 252, 0.5) 100%);
            transition: var(--transition-base);
        }
        
        .detail-section:hover {
            background: linear-gradient(135deg, var(--hover-bg) 0%, rgba(248, 250, 252, 0.8) 100%);
            transform: translateX(4px);
        }
        
        .appearance { border-left-color: var(--primary-orange); }
        .tattoo-impact { border-left-color: var(--status-critical); }
        .laser-considerations { border-left-color: var(--status-success); }
        .treatment-modifications { border-left-color: var(--status-warning); }
        .monitoring-required { border-left-color: var(--medium-gray); }

        .detail-label { 
            font-weight: var(--font-weight-semibold); 
            color: var(--text-dark); 
            font-size: var(--text-sm); 
            margin-bottom: var(--space-2); 
            text-transform: uppercase; 
            letter-spacing: 0.5px; 
        }
        
        .detail-value { 
            font-size: var(--text-sm); 
            line-height: 1.5; 
            color: var(--medium-gray); 
        }

        /* Emergency Protocol */
        .emergency-protocol { 
            background: linear-gradient(135deg, var(--status-critical) 0%, #b91c1c 100%);
            color: var(--white); 
            padding: var(--space-16); 
            border-radius: var(--radius-2xl); 
            margin: var(--space-16) 0; 
            box-shadow: var(--shadow-xl); 
            border: 3px solid rgba(255,255,255,0.2);
            position: relative;
            overflow: hidden;
        }
        
        .emergency-protocol::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="emergency-grid" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23emergency-grid)"/></svg>');
            opacity: 0.3;
        }
        
        .emergency-title { 
            font-size: var(--text-3xl); 
            font-weight: var(--font-weight-bold); 
            margin-bottom: var(--space-10); 
            display: flex; 
            align-items: center; 
            gap: var(--space-4); 
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }
        
        .emergency-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: var(--space-8);
            position: relative;
            z-index: 1;
        }
        
        .emergency-item { 
            background: rgba(255, 255, 255, 0.15); 
            padding: var(--space-8); 
            border-radius: var(--radius-xl); 
            border: 2px solid rgba(255, 255, 255, 0.3); 
            backdrop-filter: blur(15px);
            transition: var(--transition-base);
        }
        
        .emergency-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: var(--hover-transform);
            box-shadow: var(--shadow-lg);
        }
        
        .emergency-item h4 { 
            margin-bottom: var(--space-6); 
            font-size: var(--text-lg); 
            font-weight: var(--font-weight-semibold);
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .emergency-item ul { 
            list-style: none; 
            margin: 0; 
            padding: 0; 
        }
        
        .emergency-item li { 
            margin: var(--space-3) 0; 
            padding-left: var(--space-6); 
            position: relative; 
            font-size: var(--text-sm); 
            line-height: 1.6; 
        }
        
        .emergency-item li:before { 
            content: '•'; 
            position: absolute; 
            left: 0; 
            color: var(--white); 
            font-weight: var(--font-weight-bold); 
            font-size: var(--text-base);
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        /* Protocol Box */
        .protocol-box { 
            background: linear-gradient(135deg, var(--white) 0%, var(--soft-cream) 100%);
            border: 3px solid var(--primary-orange); 
            border-radius: var(--radius-2xl); 
            padding: var(--space-12); 
            margin: var(--space-16) 0; 
            box-shadow: var(--shadow-xl);
            position: relative;
            overflow: hidden;
        }
        
        .protocol-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(234, 88, 12, 0.03) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: var(--transition-slow);
        }
        
        .protocol-box:hover::before {
            transform: translateX(100%);
        }
        
        .protocol-title { 
            font-weight: var(--font-weight-bold); 
            color: var(--text-dark); 
            font-size: var(--text-2xl); 
            margin-bottom: var(--space-8); 
            display: flex; 
            align-items: center; 
            gap: var(--space-3);
            position: relative;
            z-index: 1;
        }
        
        .protocol-steps { 
            list-style: none; 
            counter-reset: protocol-counter;
            position: relative;
            z-index: 1;
        }
        
        .protocol-steps li { 
            counter-increment: protocol-counter; 
            margin: var(--space-6) 0; 
            padding-left: var(--space-16); 
            position: relative; 
            font-size: var(--text-base); 
            line-height: 1.6; 
            color: var(--medium-gray);
            transition: var(--transition-base);
        }
        
        .protocol-steps li:hover {
            color: var(--text-dark);
            transform: translateX(4px);
        }
        
        .protocol-steps li:before { 
            content: counter(protocol-counter); 
            position: absolute; 
            left: 0; 
            top: 4px; 
            background: linear-gradient(135deg, var(--status-success) 0%, #047857 100%);
            color: var(--white); 
            width: 40px; 
            height: 40px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: var(--text-sm); 
            font-weight: var(--font-weight-semibold); 
            border: 3px solid var(--white); 
            box-shadow: var(--shadow-md);
            transition: var(--transition-base);
        }
        
        .protocol-steps li:hover:before {
            transform: scale(1.1);
            box-shadow: var(--shadow-lg);
        }

        /* Disclaimer */
        .disclaimer { 
            background: linear-gradient(135deg, var(--white) 0%, var(--soft-cream) 100%);
            padding: var(--space-12); 
            border-radius: var(--radius-2xl); 
            margin-top: var(--space-16); 
            box-shadow: var(--shadow-lg); 
            text-align: center; 
            border: 2px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }
        
        .disclaimer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(75, 85, 99, 0.03) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: var(--transition-slow);
        }
        
        .disclaimer:hover::before {
            transform: translateX(100%);
        }
        
        .disclaimer h3 { 
            color: var(--text-dark); 
            margin-bottom: var(--space-8); 
            font-size: var(--text-2xl); 
            font-weight: var(--font-weight-semibold);
            position: relative;
            z-index: 1;
        }
        
        .disclaimer p { 
            font-size: var(--text-base); 
            line-height: 1.7; 
            color: var(--medium-gray); 
            margin-bottom: var(--space-6);
            position: relative;
            z-index: 1;
        }
        
        .disclaimer .version-info { 
            font-size: var(--text-sm); 
            color: var(--text-dark); 
            font-weight: var(--font-weight-medium);
            position: relative;
            z-index: 1;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .conditions-grid { grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); }
            .controls { grid-template-columns: 1fr; }
            .search-filter-group { flex-direction: column; align-items: stretch; }
        }

        @media (max-width: 768px) {
            .container { padding: 0 var(--space-4); }
            .header { padding: var(--space-12) var(--space-4); }
            .header h1 { font-size: var(--text-3xl); }
            .header .subtitle { font-size: var(--text-lg); }
            .conditions-grid { grid-template-columns: 1fr; gap: var(--space-6); padding: var(--space-6); }
            .stats-summary { grid-template-columns: repeat(2, 1fr); }
            .treatment-legend { grid-template-columns: 1fr; }
            .emergency-grid { grid-template-columns: 1fr; }
            .condition-name { font-size: var(--text-lg); padding-right: 100px; }
            .nav-bar { padding: var(--space-4); flex-direction: column; }
            .protocol-steps li { padding-left: var(--space-12); }
            .protocol-steps li:before { width: 32px; height: 32px; }
        }

        @media (max-width: 480px) {
            .stats-summary { grid-template-columns: 1fr; }
            .search-box { min-width: 100%; }
            .filter-buttons { width: 100%; justify-content: center; }
            .treatment-status { position: static; margin-bottom: var(--space-4); display: inline-block; }
            .condition-name { padding-right: 0; }
            .nav-button { font-size: var(--text-sm); padding: var(--space-2) var(--space-4); }
            .emergency-protocol { padding: var(--space-8); }
            .protocol-box { padding: var(--space-8); }
            .disclaimer { padding: var(--space-8); }
        }

        /* Animation States */
        .condition-card.hidden { 
            display: none; 
        }
        
        .category-section.hidden { 
            display: none; 
        }

        /* Accessibility & Motion */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after { 
                animation-duration: 0.01ms !important; 
                animation-iteration-count: 1 !important; 
                transition-duration: 0.01ms !important; 
            }
        }

        .filter-btn:focus-visible, 
        .print-button:focus-visible, 
        .search-box input:focus-visible, 
        .nav-button:focus-visible, 
        .condition-card:focus-visible {
            outline: 3px solid var(--focus-ring); 
            outline-offset: var(--focus-ring-offset); 
            box-shadow: 0 0 0 6px rgba(59, 130, 246, 0.1);
        }

        .skip-to-content { 
            position: absolute; 
            top: -40px; 
            left: 6px; 
            background: var(--white); 
            color: var(--text-dark); 
            padding: var(--space-2); 
            text-decoration: none; 
            border-radius: var(--radius-base); 
            border: 2px solid var(--focus-ring); 
            z-index: var(--z-toast); 
        }
        
        .skip-to-content:focus { 
            top: 6px; 
        }

        @media (prefers-contrast: high) {
            :root { 
                --border-color: #000000; 
                --border-light: #333333; 
                --medium-gray: #000000; 
                --text-dark: #000000; 
            }
            .condition-card { border-width: 3px; }
            .detail-section { border-width: 2px; }
        }

        .sr-only { 
            position: absolute; 
            width: 1px; 
            height: 1px; 
            padding: 0; 
            margin: -1px; 
            overflow: hidden; 
            clip: rect(0, 0, 0, 0); 
            white-space: nowrap; 
            border: 0; 
        }

        /* Loading States */
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            transform: translate(-50%, -50%);
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-to-content">Skip to main content</a>
    
    <div class="header">
        <div class="header-content">
            <h1>LASER TATTOO REMOVAL</h1>
            <div class="subtitle">Skin Conditions & Treatment Decision Guide</div>
            <div class="warning">⚠️ Professional Use Only - Always Consult Medical History Before Treatment</div>
        </div>
    </div>

    <div class="container">
        <nav class="nav-bar no-print" role="navigation" aria-label="Quick navigation">
            <a href="consultation.html" class="nav-button" aria-label="Access consultation reference guide">
                <span aria-hidden="true">📋</span>Consultation Reference
            </a>
            <a href="forms.html" class="nav-button" aria-label="Access consultation forms">
                <span aria-hidden="true">📝</span>Consultation Forms
            </a>
            <a href="kirbydesai.html" class="nav-button" aria-label="Access Kirby-Desai Scale calculator">
                <span aria-hidden="true">🔢</span>Kirby-Desai Scale
            </a>
            <a href="fitzpatrick.html" class="nav-button" aria-label="Access Fitzpatrick skin type guide">
                <span aria-hidden="true">🎨</span>Fitzpatrick Types
            </a>
        </nav>

        <main id="main-content">
            <div class="controls no-print" role="search">
                <div class="search-filter-group">
                    <div class="search-box">
                        <label for="searchInput" class="sr-only">Search conditions or symptoms</label>
                        <input type="text" id="searchInput" placeholder="Search conditions or symptoms..." aria-label="Search conditions">
                    </div>
                    <div class="filter-buttons" role="group" aria-label="Filter conditions by treatment status">
                        <button class="filter-btn active" data-filter="all" aria-pressed="true">All Conditions</button>
                        <button class="filter-btn" data-filter="contraindicated" aria-pressed="false">Contraindicated</button>
                        <button class="filter-btn" data-filter="caution" aria-pressed="false">Proceed with Caution</button>
                        <button class="filter-btn" data-filter="medical" aria-pressed="false">Medical Clearance</button>
                    </div>
                </div>
                <button class="print-button" onclick="window.print()" aria-label="Print guide">
                    <span aria-hidden="true">🖨️</span>Print Guide
                </button>
            </div>

            <div class="treatment-legend" role="region" aria-labelledby="legend-title">
                <h2 id="legend-title" class="sr-only">Treatment Status Legend</h2>
                <div class="legend-item legend-contraindicated">
                    <div class="legend-icon" aria-hidden="true">🚫</div>
                    <div class="legend-content">
                        <div class="legend-title">Contraindicated</div>
                        <div class="legend-description">Do not proceed with treatment</div>
                    </div>
                </div>
                <div class="legend-item legend-caution">
                    <div class="legend-icon" aria-hidden="true">⚠️</div>
                    <div class="legend-content">
                        <div class="legend-title">Proceed with Caution</div>
                        <div class="legend-description">Modified parameters required</div>
                    </div>
                </div>
                <div class="legend-item legend-safe">
                    <div class="legend-icon" aria-hidden="true">✅</div>
                    <div class="legend-content">
                        <div class="legend-title">Safe to Proceed</div>
                        <div class="legend-description">Standard protocol applies</div>
                    </div>
                </div>
                <div class="legend-item legend-medical">
                    <div class="legend-icon" aria-hidden="true">🩺</div>
                    <div class="legend-content">
                        <div class="legend-title">Medical Clearance</div>
                        <div class="legend-description">Physician approval required</div>
                    </div>
                </div>
            </div>

            <div class="stats-summary" role="region" aria-labelledby="stats-title">
                <h2 id="stats-title" class="sr-only">Guide Statistics</h2>
                <div class="stat-card">
                    <div class="stat-number">38</div>
                    <div class="stat-label">Conditions Covered</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">10</div>
                    <div class="stat-label">Absolute Contraindications</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">15</div>
                    <div class="stat-label">Require Medical Clearance</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Treatment Categories</div>
                </div>
            </div>

            <!-- Absolute Contraindications -->
            <section class="category-section" data-category="contraindications" aria-labelledby="contraindications-title">
                <header class="category-header category-contraindications">
                    <div class="category-icon" aria-hidden="true">🚫</div>
                    <h2 id="contraindications-title">ABSOLUTE CONTRAINDICATIONS</h2>
                </header>
                <div class="conditions-grid">
                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Malignant Melanoma</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Dark, irregular mole with asymmetry, border irregularity, color variation, diameter >6mm (ABCDE criteria)</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Critical Risk</div>
                                <div class="detail-value">Laser energy can stimulate melanoma cells and cause metastasis. Any suspicious lesions must be biopsied before treatment.</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Protocol</div>
                                <div class="detail-value">NEVER treat over or near suspicious moles. Refer immediately to dermatologist for evaluation and biopsy.</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Active Herpes Outbreak</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Painful vesicles, blisters, or ulcers typically around mouth, lips, or genitals with burning sensation</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Risk</div>
                                <div class="detail-value">Laser treatment during active outbreak worsens infection, delays healing, and significantly increases scarring risk.</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Protocol</div>
                                <div class="detail-value">Wait until outbreak completely resolves (7-14 days). Consider prophylactic antiviral therapy for recurrent cases.</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Keloid Scarring History</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Raised, thickened scar tissue extending beyond original wound boundaries, often with continued growth</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Risk Assessment</div>
                                <div class="detail-value">Laser energy triggers excessive collagen production, worsening keloid formation and creating permanent disfigurement.</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Alternative Options</div>
                                <div class="detail-value">Consider chemical peels, dermabrasion, or surgical excision with radiation therapy by specialist only.</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Pregnancy & Breastfeeding</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Patient Status</div>
                                <div class="detail-value">Confirmed pregnancy at any stage or active breastfeeding period</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Safety Concerns</div>
                                <div class="detail-value">Unknown effects of laser energy on fetal development. Pigment particles released may cross placental barrier.</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Waiting Period</div>
                                <div class="detail-value">Wait until after delivery and cessation of breastfeeding (minimum 3 months post-weaning recommended).</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="contraindicated">
                        <div class="treatment-status status-contraindicated" aria-label="Treatment status: Contraindicated">Contraindicated</div>
                        <h3 class="condition-name">Active Skin Cancer</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Types</div>
                                <div class="detail-value">Squamous cell carcinoma, basal cell carcinoma, or any malignancy in or near treatment area</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Risk</div>
                                <div class="detail-value">Laser energy can interfere with cancer treatment protocols and potentially stimulate tumor growth or spread.</div>
                            </div>
                            <div class="detail-section monitoring-required">
                                <div class="detail-label">Required Action</div>
                                <div class="detail-value">Complete cancer treatment first. Obtain written oncologist clearance before considering tattoo removal.</div>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <div class="page-break"></div>

            <!-- Proceed with Caution -->
            <section class="category-section" data-category="caution" aria-labelledby="caution-title">
                <header class="category-header category-caution">
                    <div class="category-icon" aria-hidden="true">⚠️</div>
                    <h2 id="caution-title">PROCEED WITH CAUTION</h2>
                </header>
                <div class="conditions-grid">
                    <article class="condition-card" data-treatment="caution">
                        <div class="treatment-status status-caution" aria-label="Treatment status: Caution Required">Caution Required</div>
                        <h3 class="condition-name">Eczema/Atopic Dermatitis</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Red, inflamed patches with intense itching, dryness, possible crusting or weeping areas</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Challenges</div>
                                <div class="detail-value">Increased risk of post-inflammatory hyperpigmentation, delayed healing, condition flare-ups triggered by laser trauma.</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Modified Protocol</div>
                                <div class="detail-value">Reduce fluence by 20-30%, extend intervals to 8-10 weeks, pre-treat with topical corticosteroids, intensive moisturizing regimen.</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="caution">
                        <div class="treatment-status status-caution" aria-label="Treatment status: Caution Required">Caution Required</div>
                        <h3 class="condition-name">Psoriasis</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Appearance</div>
                                <div class="detail-value">Red, raised plaques with thick silvery scales, commonly on elbows, knees, scalp, and lower back</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Koebner Phenomenon</div>
                                <div class="detail-value">Laser trauma can trigger new psoriatic lesions at treatment site (Koebner phenomenon). May worsen existing plaques.</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Treatment Strategy</div>
                                <div class="detail-value">Treat only during stable/remission phase. Reduce fluence by 25%. Consider topical therapy pre/post treatment. Monitor closely.</div>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <section class="emergency-protocol" role="region" aria-labelledby="emergency-title">
                <div class="emergency-title">
                    <span aria-hidden="true" style="font-size: 48px;">🚨</span>
                    <h2 id="emergency-title">EMERGENCY PROTOCOLS & IMMEDIATE ACTIONS</h2>
                </div>
                <div class="emergency-grid">
                    <div class="emergency-item">
                        <h4>Severe Burns/Blistering</h4>
                        <ul>
                            <li>Stop treatment immediately</li>
                            <li>Apply cold compress (not ice directly)</li>
                            <li>Document with standardized photos</li>
                            <li>Refer to burn specialist within 24 hours</li>
                            <li>Administer topical antibiotics if indicated</li>
                        </ul>
                    </div>
                    <div class="emergency-item">
                        <h4>Infection Warning Signs</h4>
                        <ul>
                            <li>Increasing pain after 48 hours</li>
                            <li>Purulent or malodorous discharge</li>
                            <li>Red streaking from treatment site</li>
                            <li>Fever or systemic symptoms</li>
                            <li>Immediate physician referral required</li>
                        </ul>
                    </div>
                    <div class="emergency-item">
                        <h4>Allergic Reactions</h4>
                        <ul>
                            <li>Widespread urticaria or hives</li>
                            <li>Difficulty breathing or swallowing</li>
                            <li>Facial or laryngeal swelling</li>
                            <li>Call emergency services immediately</li>
                            <li>Administer epinephrine if available</li>
                        </ul>
                    </div>
                    <div class="emergency-item">
                        <h4>Hypo/Hyperpigmentation</h4>
                        <ul>
                            <li>Document pigment changes immediately</li>
                            <li>Adjust future treatment parameters</li>
                            <li>Consider dermatology referral</li>
                            <li>Implement strict sun protection</li>
                            <li>Monitor for resolution over 6-12 months</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="protocol-box" id="protocol" role="region" aria-labelledby="protocol-title">
                <div class="protocol-title">
                    <span aria-hidden="true" style="font-size: 32px;">📋</span>
                    <h2 id="protocol-title">ESSENTIAL PRE-TREATMENT ASSESSMENT PROTOCOL</h2>
                </div>
                <ol class="protocol-steps">
                    <li>Complete comprehensive medical history including all medications, supplements, recent treatments, and known allergies</li>
                    <li>Perform thorough skin examination of treatment area and evaluate surrounding tissue health and integrity</li>
                    <li>Document any suspicious lesions with high-resolution photography and refer for immediate dermatological evaluation</li>
                    <li>Assess Fitzpatrick skin type accurately and document recent sun exposure, tanning history, and photosensitizing medications</li>
                    <li>Review previous tattoo removal treatments, complications, healing patterns, and patient satisfaction with outcomes</li>
                    <li>Conduct patch test on inconspicuous area 24-48 hours before full treatment when indicated</li>
                    <li>Obtain informed consent with detailed discussion of risks, benefits, alternatives, and realistic expectations</li>
                    <li>Establish emergency action plan and ensure patient understands post-treatment care instructions</li>
                </ol>
            </section>

            <!-- Medical Clearance Required -->
            <section class="category-section" data-category="medical" aria-labelledby="medical-title">
                <header class="category-header category-complications">
                    <div class="category-icon" aria-hidden="true">🩺</div>
                    <h2 id="medical-title">MEDICAL CLEARANCE REQUIRED</h2>
                </header>
                <div class="conditions-grid">
                    <article class="condition-card" data-treatment="medical">
                        <div class="treatment-status status-medical" aria-label="Treatment status: Medical Clearance Required">Medical Clearance</div>
                        <h3 class="condition-name">Diabetes (Type 1 & 2)</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Risk Factors</div>
                                <div class="detail-value">Poor circulation, impaired wound healing, increased infection risk, neuropathy affecting sensation</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Complications</div>
                                <div class="detail-value">Delayed healing, increased scarring risk, poor treatment response, higher infection rates</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Medical Requirements</div>
                                <div class="detail-value">HbA1c <7%, stable glucose control, endocrinologist clearance, wound care specialist consultation</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="medical">
                        <div class="treatment-status status-medical" aria-label="Treatment status: Medical Clearance Required">Medical Clearance</div>
                        <h3 class="condition-name">Autoimmune Disorders</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Conditions</div>
                                <div class="detail-value">Rheumatoid arthritis, lupus, scleroderma, inflammatory bowel disease, multiple sclerosis</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Immune Response</div>
                                <div class="detail-value">Unpredictable healing response, flare-ups triggered by treatment stress, medication interactions</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Specialist Consultation</div>
                                <div class="detail-value">Rheumatologist/immunologist approval required, treatment timing with medication cycles, close monitoring</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="medical">
                        <div class="treatment-status status-medical" aria-label="Treatment status: Medical Clearance Required">Medical Clearance</div>
                        <h3 class="condition-name">Blood Clotting Disorders</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Conditions</div>
                                <div class="detail-value">Hemophilia, von Willebrand disease, anticoagulant therapy, bleeding disorders</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Risks</div>
                                <div class="detail-value">Excessive bleeding, prolonged healing, hematoma formation, difficulty with hemostasis</div>
                            </div>
                            <div class="detail-section monitoring-required">
                                <div class="detail-label">Medical Protocol</div>
                                <div class="detail-value">Hematologist clearance, recent coagulation studies, possible medication adjustment, emergency preparedness</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="medical">
                        <div class="treatment-status status-medical" aria-label="Treatment status: Medical Clearance Required">Medical Clearance</div>
                        <h3 class="condition-name">Immunocompromised States</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Causes</div>
                                <div class="detail-value">HIV/AIDS, chemotherapy, organ transplant, immunosuppressive medications, chronic steroid use</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Infection Risk</div>
                                <div class="detail-value">Severely increased infection susceptibility, poor wound healing, opportunistic infections possible</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Special Precautions</div>
                                <div class="detail-value">Infectious disease consultation, prophylactic antibiotics, sterile technique enhancement, extended monitoring</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="medical">
                        <div class="treatment-status status-medical" aria-label="Treatment status: Medical Clearance Required">Medical Clearance</div>
                        <h3 class="condition-name">Cardiovascular Disease</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Conditions</div>
                                <div class="detail-value">Recent MI, unstable angina, severe hypertension, heart failure, arrhythmias</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Treatment Stress</div>
                                <div class="detail-value">Pain and anxiety can trigger cardiovascular events, medication interactions possible</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Cardiac Clearance</div>
                                <div class="detail-value">Cardiologist approval, recent ECG, blood pressure control, emergency cardiac protocols available</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="medical">
                        <div class="treatment-status status-medical" aria-label="Treatment status: Medical Clearance Required">Medical Clearance</div>
                        <h3 class="condition-name">Photosensitizing Medications</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Common Medications</div>
                                <div class="detail-value">Tetracyclines, quinolones, NSAIDs, diuretics, phenothiazines, retinoids, St. John's Wort</div>
                            </div>
                            <div class="detail-section tattoo-impact">
                                <div class="detail-label">Phototoxic Reactions</div>
                                <div class="detail-value">Severe burns, blistering, hyperpigmentation, prolonged erythema, treatment failure</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Medication Management</div>
                                <div class="detail-value">Prescriber consultation, medication discontinuation if possible, extended washout period, reduced fluence</div>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <!-- Safe to Proceed -->
            <section class="category-section" data-category="safe" aria-labelledby="safe-title">
                <header class="category-header category-skin-types">
                    <div class="category-icon" aria-hidden="true">✅</div>
                    <h2 id="safe-title">SAFE TO PROCEED - STANDARD PROTOCOL</h2>
                </header>
                <div class="conditions-grid">
                    <article class="condition-card" data-treatment="safe">
                        <div class="treatment-status status-safe" aria-label="Treatment status: Safe to Proceed">Safe to Proceed</div>
                        <h3 class="condition-name">Healthy Skin</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Characteristics</div>
                                <div class="detail-value">Normal skin texture, good healing history, no active inflammatory conditions, Fitzpatrick I-VI</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Treatment Approach</div>
                                <div class="detail-value">Standard laser parameters, normal treatment intervals, excellent prognosis for complete clearance</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Optimization Tips</div>
                                <div class="detail-value">Maintain skin hydration, sun protection, healthy lifestyle, proper aftercare compliance</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="safe">
                        <div class="treatment-status status-safe" aria-label="Treatment status: Safe to Proceed">Safe to Proceed</div>
                        <h3 class="condition-name">Minor Acne</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Presentation</div>
                                <div class="detail-value">Occasional comedones, mild inflammatory lesions, no cystic component, well-controlled</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Treatment Compatibility</div>
                                <div class="detail-value">Laser treatment may actually improve mild acne, standard parameters acceptable</div>
                            </div>
                            <div class="detail-section treatment-modifications">
                                <div class="detail-label">Additional Benefits</div>
                                <div class="detail-value">Possible acne improvement from laser's anti-inflammatory effects, maintain regular skincare routine</div>
                            </div>
                        </div>
                    </article>

                    <article class="condition-card" data-treatment="safe">
                        <div class="treatment-status status-safe" aria-label="Treatment status: Safe to Proceed">Safe to Proceed</div>
                        <h3 class="condition-name">Seborrheic Keratoses (Remote)</h3>
                        <div class="condition-details">
                            <div class="detail-section appearance">
                                <div class="detail-label">Description</div>
                                <div class="detail-value">Benign, waxy, "stuck-on" appearance, well away from tattoo treatment area, confirmed benign</div>
                            </div>
                            <div class="detail-section laser-considerations">
                                <div class="detail-label">Treatment Safety</div>
                                <div class="detail-value">No contraindication if lesions are distant from laser treatment zone, standard protocols apply</div>
                            </div>
                            <div class="detail-section monitoring-required">
                                <div class="detail-label">Ongoing Assessment</div>
                                <div class="detail-value">Document and monitor all lesions, biopsy if changes occur, maintain photographic records</div>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <section class="disclaimer" role="contentinfo">
                <h3>Professional Disclaimer & Legal Requirements</h3>
                <p>
                    This comprehensive guide is designed exclusively for qualified laser practitioners and medical professionals. 
                    Always obtain detailed medical history, perform thorough pre-treatment assessments, conduct patch testing when indicated, 
                    and maintain current professional liability insurance and continuing education certification.
                </p>
                <p>
                    Treatment decisions must always be individualized based on complete patient evaluation, current medical literature, 
                    and adherence to local regulatory requirements. This guide serves as a reference tool and does not replace 
                    clinical judgment or professional training.
                </p>
                <div class="version-info">
                    <strong>© 2025 Laser Tattoo Removal Professional Guidelines</strong> | 
                    Version 4.0 | Updated with enhanced safety protocols and latest clinical evidence
                </div>
            </section>
        </main>
    </div>

    <script>
        // Enhanced Application State Management
        class TattooRemovalGuide {
            constructor() {
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.setupAccessibility();
                this.setupSearch();
                this.setupFilters();
                this.setupKeyboardNavigation();
                this.setupPrintOptimization();
                this.announcePageLoad();
                this.optimizePerformance();
            }

            setupEventListeners() {
                // Search functionality with debouncing
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.addEventListener('input', this.debounce((e) => {
                        this.filterConditions(e.target.value.toLowerCase());
                        this.announceSearchResults(e.target.value);
                    }, 200));
                }

                // Filter buttons
                document.querySelectorAll('.filter-btn').forEach(button => {
                    button.addEventListener('click', (e) => this.handleFilterClick(e));
                });

                // Print button
                const printBtn = document.querySelector('.print-button');
                if (printBtn) {
                    printBtn.addEventListener('click', () => this.handlePrint());
                }
            }

            setupAccessibility() {
                // Enhanced keyboard navigation for cards
                document.querySelectorAll('.condition-card').forEach((card, index) => {
                    card.setAttribute('tabindex', '0');
                    card.setAttribute('role', 'article');
                    card.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            this.expandCard(card);
                        }
                    });
                });

                // Enhanced focus management
                this.setupFocusTrap();
            }

            setupSearch() {
                // Advanced search with multiple criteria
                this.searchableFields = [
                    'condition-name',
                    'detail-value',
                    'treatment-status'
                ];
            }

            setupFilters() {
                this.filters = {
                    all: () => true,
                    contraindicated: (card) => card.getAttribute('data-treatment') === 'contraindicated',
                    caution: (card) => card.getAttribute('data-treatment') === 'caution',
                    medical: (card) => card.getAttribute('data-treatment') === 'medical',
                    safe: (card) => card.getAttribute('data-treatment') === 'safe'
                };
            }

            setupKeyboardNavigation() {
                document.addEventListener('keydown', (e) => {
                    // Enhanced keyboard shortcuts
                    if (e.ctrlKey || e.metaKey) {
                        switch (e.key) {
                            case 'p':
                                e.preventDefault();
                                this.handlePrint();
                                break;
                            case 'f':
                                e.preventDefault();
                                this.focusSearch();
                                break;
                            case 'h':
                                e.preventDefault();
                                this.showKeyboardHelp();
                                break;
                        }
                    }

                    if (e.key === 'Escape') {
                        this.clearSearch();
                    }
                });
            }

            setupPrintOptimization() {
                // Enhanced print preparation
                window.addEventListener('beforeprint', () => {
                    document.body.classList.add('printing');
                    this.prepareForPrint();
                });

                window.addEventListener('afterprint', () => {
                    document.body.classList.remove('printing');
                    this.restoreAfterPrint();
                });
            }

            handleFilterClick(e) {
                const button = e.target;
                const filterType = button.getAttribute('data-filter');

                // Update active state
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                    btn.setAttribute('aria-pressed', 'false');
                });

                button.classList.add('active');
                button.setAttribute('aria-pressed', 'true');

                // Apply filter
                this.filterByTreatmentStatus(filterType);
                this.announceFilterChange(filterType);
            }

            filterConditions(searchTerm) {
                const cards = document.querySelectorAll('.condition-card');
                const sections = document.querySelectorAll('.category-section');
                let visibleCount = 0;

                cards.forEach(card => {
                    const text = card.textContent.toLowerCase();
                    const isVisible = text.includes(searchTerm) || searchTerm === '';
                    
                    card.classList.toggle('hidden', !isVisible);
                    if (isVisible) visibleCount++;
                });

                // Show/hide sections based on visible cards
                sections.forEach(section => {
                    const visibleCards = section.querySelectorAll('.condition-card:not(.hidden)');
                    section.classList.toggle('hidden', visibleCards.length === 0 && searchTerm !== '');
                });

                return visibleCount;
            }

            filterByTreatmentStatus(status) {
                const cards = document.querySelectorAll('.condition-card');
                const sections = document.querySelectorAll('.category-section');
                let visibleCount = 0;

                cards.forEach(card => {
                    const isVisible = this.filters[status] ? this.filters[status](card) : false;
                    card.classList.toggle('hidden', !isVisible);
                    if (isVisible) visibleCount++;
                });

                sections.forEach(section => {
                    const visibleCards = section.querySelectorAll('.condition-card:not(.hidden)');
                    section.classList.toggle('hidden', visibleCards.length === 0 && status !== 'all');
                });

                return visibleCount;
            }

            focusSearch() {
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.focus();
                    searchInput.select();
                    this.announceToScreenReader('Search field focused');
                }
            }

            clearSearch() {
                const searchInput = document.getElementById('searchInput');
                if (searchInput && searchInput === document.activeElement) {
                    searchInput.value = '';
                    this.filterConditions('');
                    this.announceToScreenReader('Search cleared, showing all conditions');
                }
            }

            handlePrint() {
                this.announceToScreenReader('Preparing document for printing');
                setTimeout(() => window.print(), 100);
            }

            prepareForPrint() {
                // Show all hidden cards for printing
                document.querySelectorAll('.condition-card.hidden, .category-section.hidden')
                    .forEach(el => el.classList.add('temp-show'));
            }

            restoreAfterPrint() {
                // Restore visibility state
                document.querySelectorAll('.temp-show')
                    .forEach(el => el.classList.remove('temp-show'));
            }

            expandCard(card) {
                // Enhanced card interaction
                card.style.transform = 'scale(1.02)';
                setTimeout(() => {
                    card.style.transform = '';
                }, 200);
            }

            setupFocusTrap() {
                // Improved focus management for accessibility
                const focusableElements = document.querySelectorAll(
                    'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                );
                
                focusableElements.forEach(el => {
                    el.addEventListener('focus', () => {
                        el.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    });
                });
            }

            optimizePerformance() {
                // Implement intersection observer for animations
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '50px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                        }
                    });
                }, observerOptions);

                // Observe condition cards for staggered animations
                document.querySelectorAll('.condition-card').forEach(card => {
                    observer.observe(card);
                });
            }

            announceToScreenReader(message) {
                const announcement = document.createElement('div');
                announcement.setAttribute('aria-live', 'polite');
                announcement.setAttribute('aria-atomic', 'true');
                announcement.className = 'sr-only';
                announcement.textContent = message;
                document.body.appendChild(announcement);

                setTimeout(() => {
                    if (document.body.contains(announcement)) {
                        document.body.removeChild(announcement);
                    }
                }, 1000);
            }

            announceSearchResults(searchTerm) {
                const visibleCount = document.querySelectorAll('.condition-card:not(.hidden)').length;
                const message = searchTerm 
                    ? `Search for "${searchTerm}" found ${visibleCount} conditions`
                    : `Showing all ${visibleCount} conditions`;
                this.announceToScreenReader(message);
            }

            announceFilterChange(filterType) {
                const visibleCount = document.querySelectorAll('.condition-card:not(.hidden)').length;
                const filterNames = {
                    all: 'all conditions',
                    contraindicated: 'contraindicated conditions',
                    caution: 'caution required conditions',
                    medical: 'medical clearance required conditions',
                    safe: 'safe to proceed conditions'
                };
                this.announceToScreenReader(
                    `Filtered to ${filterNames[filterType]}, showing ${visibleCount} results`
                );
            }

            announcePageLoad() {
                this.announceToScreenReader(
                    'Laser tattoo removal guide loaded. Use search or filters to find specific conditions. Press Ctrl+H for keyboard shortcuts.'
                );
            }

            showKeyboardHelp() {
                const helpText = `
                    Keyboard Shortcuts:
                    Ctrl+F: Focus search
                    Ctrl+P: Print guide
                    Ctrl+H: Show this help
                    Escape: Clear search
                    Tab: Navigate between elements
                    Enter/Space: Activate buttons and cards
                `;
                this.announceToScreenReader(helpText);
            }

            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }
        }

        // Error handling and performance monitoring
        window.addEventListener('error', (e) => {
            console.error('Guide error:', e.error);
            // Graceful degradation - ensure basic functionality works
            document.body.classList.add('fallback-mode');
        });

        // Performance monitoring
        window.addEventListener('load', () => {
            const loadTime = performance.now();
            console.log(`Guide loaded in ${Math.round(loadTime)}ms`);
            
            // Initialize application
            new TattooRemovalGuide();
        });

        // Service worker registration for offline capability
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html>
